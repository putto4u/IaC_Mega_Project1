[엔터프라이즈 하이브리드 & 멀티 클라우드 통합 구축 프로젝트]

# 프로젝트 개요: AWS·GCP·On-Premise 3중 통합 인프라

본 제3 프로젝트는 단일 클라우드의 한계를 넘어, **본사(On-Premise)**의 데이터 주권과 **AWS 및 GCP(Multi-Cloud)**의 무한한 확장성을 결합하는 엔터프라이즈급 인프라 구축 실습입니다.

본사의 물리 서버를 통합 관제 및 데이터 허브로 활용하고, AWS와 GCP를 각각 메인 서비스와 고가용성(HA) 대기조로 구성하여, 어떤 상황에서도 서비스가 중단되지 않는 **'Triple-Site' 아키텍처**를 완성하는 것을 목표로 합니다.

---

# 아키텍처 구성 및 운영 전략

## 1. 인프라 운영 전략 (3-Tier Topology)

세 개의 거점은 유기적으로 연결되지만, 각기 다른 명확한 역할을 수행합니다.

* **본사 (Control Tower & Data Hub):**
* 전체 클라우드 리소스를 제어하는 테라폼/앤서블 마스터 노드가 위치합니다.
* 서비스의 원천 데이터(Raw Data)를 안전하게 보관하는 스토리지 허브 역할을 수행합니다.
* 클라우드 장애 시 최후의 접속 지점 역할을 수행합니다.


* **AWS (Primary Service Zone):**
* 평상시 트래픽을 처리하는 메인 서비스 리전입니다.
* Auto Scaling을 통해 트래픽 변화에 즉각 대응합니다.


* **GCP (Secondary / Failover Zone):**
* AWS와 대등한 규모로 구축되어 상시 대기하거나, 로드밸런싱을 통해 트래픽을 분산 처리합니다.
* 특정 벤더(AWS) 종속성을 탈피하기 위한 전략적 멀티 클라우드 거점입니다.



## 2. 상세 리소스 구성 명세

각 거점의 서버 구성은 요청하신 운영 규모에 맞춰 다음과 같이 설계되었습니다.

### A. 본사 (On-Premise / HQ)

물리적 보안이 보장된 내부망 환경입니다.

* **Web Server (1대):**
* 역할: 관리자용 대시보드 및 내부 인트라넷, 비상용 대민 서비스 웹.
* 구성: Nginx / Apache on Ubuntu.


* **DB Server (1대):**
* 역할: 전체 데이터의 통합 백업 및 마스터 데이터 관리.
* 구성: MySQL Enterprise (또는 MariaDB). AWS/GCP DB의 데이터를 비동기 복제(Replication)하여 보관.


* **Storage Server (1대):**
* 역할: 로그 아카이빙, 소스 코드 저장소, 대용량 파일 원본 저장.
* 구성: NFS Server 또는 MinIO (S3 호환 Object Storage).



### B. AWS (Primary Cloud)

서울 리전(ap-northeast-2)에 구축되는 고가용성 환경입니다.

* **Web Server (3대 + Auto Scaling):**
* 구성: **EC2 Auto Scaling Group** (Min 3, Max 10).
* 기능: ALB(Application Load Balancer)를 통한 트래픽 분산, CPU 부하 시 자동 수평 확장.


* **DB Server (2대):**
* 구성: **Amazon Aurora (MySQL Compatible)** 또는 RDS Multi-AZ.
* 역할: Primary(Write) 1대 + Read Replica(Read) 1대 구조로 고성능 트랜잭션 처리.


* **Storage (S3 2개 버킷):**
* Bucket A: 웹 정적 리소스(이미지/CSS/JS) 호스팅.
* Bucket B: ELB 로그 및 DB 백업 파일 저장용.



### C. GCP (Secondary Cloud)

서울 리전(asia-northeast3)에 구축되는 AWS 대칭 환경입니다.

* **Web Server (3대 + Auto Scaling):**
* 구성: **Managed Instance Group (MIG)** (Min 3, Max 10).
* 기능: Google Cloud Load Balancing을 통한 글로벌 부하 분산.


* **DB Server (2대):**
* 구성: **Cloud SQL for MySQL** (High Availability).
* 역할: Primary 1대 + Failover Replica 1대. AWS 장애 시 즉시 마스터로 승격 가능하도록 구성.


* **Storage (GCS 2개 버킷):**
* Bucket A: AWS S3와 동기화된 정적 리소스 미러링.
* Bucket B: GCP 감사 로그 저장.



---

# 네트워크 및 연결 설계 (Connectivity)

서로 다른 3개의 네트워크가 마치 하나의 사설망처럼 통신하기 위해 CIDR 설계와 VPN 연결이 핵심입니다.

## 1. IP 주소 계획 (CIDR Planning)

IP 대역 충돌을 방지하기 위해 엄격하게 분리합니다.

* **본사 (HQ):** `192.168.10.0/24` (내부망)
* **AWS VPC:** `10.0.0.0/16` (메인 클라우드망)
* **GCP VPC:** `10.1.0.0/16` (서브 클라우드망)

## 2. 하이브리드 메시 네트워크 (VPN Mesh)

전용회선 없이 공용 인터넷을 통해 안전한 터널을 뚫습니다.

* **경로 1 (HQ ↔ AWS):** Site-to-Site VPN (StrongSwan ↔ AWS VPN Gateway).
* **경로 2 (HQ ↔ GCP):** Site-to-Site VPN (StrongSwan ↔ Cloud VPN).
* **경로 3 (AWS ↔ GCP):** (옵션) 클라우드 간 직접 통신이 필요한 경우 VPN Peering 구성.

## 3. 트래픽 라우팅 (GSLB)

* **AWS Route 53:** 지능형 DNS를 사용하여 사용자 위치 또는 서버 상태에 따라 AWS와 GCP로 트래픽을 분배합니다.
* *Health Check:* AWS 장애 감지 시 100% 트래픽을 GCP로 자동 전환.



---

# 프로젝트 기술 스택

* **Infrastructure as Code (IaC):**
* **Terraform:** AWS와 GCP 리소스를 모듈화하여 단일 코드로 멀티 클라우드 배포 및 관리.


* **Configuration Management:**
* **Ansible:** 본사 물리 서버와 클라우드 인스턴스의 OS 설정 및 애플리케이션 배포 자동화.


* **Web Server:** Nginx (Reverse Proxy & Web Server).
* **Database:** MySQL 8.0 (Replication 구성).
* **Operating System:** Ubuntu 22.04 LTS (전체 노드 표준화).

---

*위 구성안을 검토하시고, 수정이 필요한 부분이나 강조하고 싶은 역할(예: DB 동기화 방식 등)이 있다면 말씀해 주십시오.*
